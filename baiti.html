<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/ClientSide/html.html to edit this template
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
<!DOCTYPE html>
<html lang="lv">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Informācijas lejupielāde</title>
</head>
<body>

<form id="downloadForm">
  <label for="time">Aprēķināt cik daudz informācijas var lejuplādēt:</label><br>
  <input type="number" id="time" name="time" placeholder="Sekundes" required> sekundes.<br>
  <label for="speed">Ja interneta ātrums ir 25 Mbps.</label><br>
  <input type="radio" id="kibibytes" name="unit" value="kibibytes" checked>
  <label for="kibibytes">KiB</label>
  <input type="radio" id="kilobytes" name="unit" value="kilobytes">
  <label for="kilobytes">KB</label><br>
  <input type="submit" value="Aprēķināt">
</form>

<div id="result"></div>

<script>
document.getElementById("time").addEventListener("focus", function() {
  document.getElementById("downloadForm").reset();
  document.getElementById("result").innerHTML = "";
});
  
document.getElementById("downloadForm").addEventListener("submit", function(event) {
  event.preventDefault();
  var time = parseFloat(document.getElementById("time").value);
  var speed = 25; // Mbps
  var sizeInBits = time * speed;
  var sizeInBytes = sizeInBits / 8;
  var sizeInKibibytes = sizeInBytes / 1024;
  var sizeInKilobytes = sizeInBytes / 1000;
  var selectedUnit = document.querySelector('input[name="unit"]:checked').value;
  var result;
  if (selectedUnit === "kibibytes") {
    result = sizeInKibibytes.toFixed(2) + " KiB";
  } else {
    result = sizeInKilobytes.toFixed(2) + " KB";
  }
  document.getElementById("result").innerHTML = "Informācijas lejupielāde: " + result;
});

document.querySelectorAll('input[name="unit"]').forEach(function(radio) {
  radio.addEventListener("click", function() {
    var selectedUnit = this.value;
    var time = parseFloat(document.getElementById("time").value);
    var speed = 25; // Mbps
    var sizeInBits = time * speed;
    var sizeInBytes = sizeInBits / 8;
    var sizeInKibibytes = sizeInBytes / 1024;
    var sizeInKilobytes = sizeInBytes / 1000;
    var result;
    if (selectedUnit === "kibibytes") {
      result = sizeInKibibytes.toFixed(2) + " KiB";
    } else {
      result = sizeInKilobytes.toFixed(2) + " KB";
    }
    document.getElementById("result").innerHTML = "Informācijas lejupielāde: " + result;
  });
});
</script>

</body>
</html>
    </body>
</html>
